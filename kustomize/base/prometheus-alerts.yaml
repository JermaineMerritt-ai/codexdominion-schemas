apiVersion: v1
kind: ConfigMap
metadata:
  name: prometheus-alerts
data:
  alerts.yml: |
    groups:
      - name: codex-constellation
        rules:
          - alert: EngineDown
            expr: up{job="engines"} == 0
            for: 1m
            labels:
              severity: critical
            annotations:
              summary: "Engine unreachable"
              description: "One or more engines report 'up == 0'."
          - alert: CoreDown
            expr: up{job="codex-core"} == 0
            for: 1m
            labels:
              severity: critical
            annotations:
              summary: "Core unreachable"
              description: "codex-core is down."
          - alert: OrchestratorDown
            expr: up{job="orchestrator"} == 0
            for: 1m
            labels:
              severity: high
            annotations:
              summary: "Orchestrator unreachable"
              description: "orchestrator is down."
