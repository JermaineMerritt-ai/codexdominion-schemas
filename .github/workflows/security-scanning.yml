name: Security Scanning & Analysis
"on":
push:
branches:
\- main
\- staging
pull_request:
branches:
\- main
schedule:
\- cron: 0 3 * * 1
jobs:
security-scan:
name: Advanced Security Scanning
runs-on: ubuntu-latest
steps:
\- name: Checkout Codex
uses: actions/checkout@v4
\- name: Set up Python
uses: actions/setup-python@v4
with:
python-version: "3.11"
\- name: Install security tools
run: "pip install bandit safety semgrep

```
      pip install -r requirements.txt 2>/dev/null || true"
  - name: Run Bandit security scan
    run:
      "echo \"\U0001F512 Running Bandit security analysis...\"\nbandit -r . -f\
      \ json -o bandit-report.json || true\nbandit -r . || true"
  - name: Check dependencies for vulnerabilities
    run:
      "echo \"\U0001F50D Checking dependencies for known vulnerabilities...\"\
      \nsafety check --json --output safety-report.json || true\nsafety check ||\
      \ true"
  - name: Run Semgrep static analysis
    run:
      "echo \"\U0001F3AF Running Semgrep static analysis...\"\nsemgrep --config=auto\
      \ . --json -o semgrep-report.json || true"
  - name: Upload security reports
    uses: actions/upload-artifact@v3
    if: always()
    with:
      name: security-reports
      path: "*-report.json"
```

codeql-analysis:
name: CodeQL Security Analysis
runs-on: ubuntu-latest
permissions:
actions: read
contents: read
security-events: write
steps:
\- name: Checkout Codex
uses: actions/checkout@v4
\- name: Initialize CodeQL
uses: github/codeql-action/init@v2
with:
languages: python
\- name: Perform CodeQL Analysis
uses: github/codeql-action/analyze@v2
