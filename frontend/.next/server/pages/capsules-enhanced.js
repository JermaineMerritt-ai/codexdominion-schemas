"use strict";(()=>{var e={};e.id=676,e.ids=[676,2888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},7743:(e,t,r)=>{r.d(t,{d4:()=>o.useEffect,eJ:()=>o.useState});var o=r(1431)},1743:(e,t,r)=>{r.r(t),r.d(t,{config:()=>y,default:()=>m,getServerSideProps:()=>h,getStaticPaths:()=>S,getStaticProps:()=>x,reportWebVitals:()=>P,routeModule:()=>A,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>g});var o={};r.r(o),r.d(o,{default:()=>b});var a=r(7093),n=r(5244),s=r(1323),i=r(2899),l=r.n(i),c=r(6814),u=r(997),p=r(9816),d=r.n(p);r(6689);var f=r(7743);function b(){let[e,t]=(0,f.eJ)([]),[r,o]=(0,f.eJ)(!0),[a,n]=(0,f.eJ)(null);if((0,f.d4)(()=>{(async function(){try{o(!0);let e=await fetch("/api/capsules");if(!e.ok)throw Error("Local API unavailable");let r=await e.json();t(r.capsules||[])}catch(e){console.log("Local API unavailable, trying external service...");try{let e=await fetch("http://localhost:8080/api/capsules"),r=(await e.json()).map(e=>({slug:e.slug,name:e.title||e.slug,description:`External capsule: ${e.kind} mode ${e.mode}`,schedule:e.schedule||"Not scheduled",archive_type:"external"}));t(r)}catch(t){console.error("Both APIs failed:",{localError:e,externalError:t}),n("Unable to load capsules from any source")}}finally{o(!1)}})()},[]),r)return(0,u.jsxs)("div",{style:{padding:24},className:"jsx-e36711b55b3d7398",children:[(0,u.jsxs)("div",{className:"jsx-e36711b55b3d7398 loading-container",children:[u.jsx("div",{className:"jsx-e36711b55b3d7398 spinner"}),u.jsx("p",{className:"jsx-e36711b55b3d7398",children:"Loading capsules..."})]}),u.jsx(d(),{id:"e36711b55b3d7398",children:".loading-container.jsx-e36711b55b3d7398{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]})}let m=(0,s.l)(o,"default"),x=(0,s.l)(o,"getStaticProps"),S=(0,s.l)(o,"getStaticPaths"),h=(0,s.l)(o,"getServerSideProps"),y=(0,s.l)(o,"config"),P=(0,s.l)(o,"reportWebVitals"),g=(0,s.l)(o,"unstable_getStaticProps"),v=(0,s.l)(o,"unstable_getStaticPaths"),j=(0,s.l)(o,"unstable_getStaticParams"),w=(0,s.l)(o,"unstable_getServerProps"),_=(0,s.l)(o,"unstable_getServerSideProps"),A=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/capsules-enhanced",pathname:"/capsules-enhanced",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:o})},6627:(e,t)=>{Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;var r={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o=Object.assign,a={};function n(e,t,o){this.props=e,this.context=t,this.refs=a,this.updater=o||r}function s(){}function i(e,t,o){this.props=e,this.context=t,this.refs=a,this.updater=o||r}n.prototype.isReactComponent={},n.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},s.prototype=n.prototype;var l=i.prototype=new s;l.constructor=i,o(l,n.prototype),l.isPureReactComponent=!0,Object.prototype.hasOwnProperty;var c={current:null};t.useEffect=function(e,t){return c.current.useEffect(e,t)},t.useState=function(e){return c.current.useState(e)}},1431:(e,t,r)=>{e.exports=r(6627)},6814:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var o=r(997);r(6689);var a=r(7518),n=r(5906);let s=function({Component:e,pageProps:t}){return o.jsx(a.ThemeProvider,{theme:n.r,children:o.jsx(e,{...t})})}},5906:(e,t,r)=>{t.r=void 0,r(7518),t.r={colors:{primary:"#0044cc",secondary:"#888"},spacing:{md:"10px"}}},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},7518:e=>{e.exports=require("styled-components")},9816:e=>{e.exports=require("styled-jsx/style")},5315:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[2899],()=>r(1743));module.exports=o})();