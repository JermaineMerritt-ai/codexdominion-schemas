"use strict";(()=>{var e={};e.id=62,e.ids=[62],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},4105:(e,t,r)=>{r.r(t),r.d(t,{config:()=>m,default:()=>f,routeModule:()=>h});var a={};r.r(a),r.d(a,{default:()=>g});var i=r(1802),n=r(7153),s=r(6249),o=r(2048),l=r.n(o),c=r(5315),u=r.n(c);function d(e){let t=[{symbol:"AAPL",tier:"Alpha",target_weight:.15,rationale:"Strong fundamentals with consistent revenue growth and robust ecosystem lock-in effects.",risk_factors:["Regulatory pressure in key markets","Supply chain dependencies"]},{symbol:"GOOGL",tier:"Alpha",target_weight:.12,rationale:"Dominant position in search and advertising with growing cloud business.",risk_factors:["Antitrust regulations","Competition in cloud services"]},{symbol:"MSFT",tier:"Beta",target_weight:.1,rationale:"Leading cloud infrastructure and productivity software suite.",risk_factors:["Market saturation","Cybersecurity threats"]},{symbol:"NVDA",tier:"Beta",target_weight:.08,rationale:"AI and data center growth driving semiconductor demand.",risk_factors:["Cyclical semiconductor market","Geopolitical tensions"]},{symbol:"TSLA",tier:"Gamma",target_weight:.05,rationale:"Electric vehicle market leadership with energy storage expansion.",risk_factors:["Execution risk on scaling","Increased competition","Regulatory changes"]}];return{title:`${e.replace("-"," ").toUpperCase()} Market Analysis`,capsule_slug:e,generated_at:new Date().toISOString(),execution_id:`${e}_${Date.now()}`,status:"success",banner:`ðŸŽ¯ Strategic market positioning analysis for ${e} capsule. Comprehensive tier-based allocation strategy designed for optimal risk-adjusted returns while maintaining sovereign operational independence.`,tier_counts:{Alpha:t.filter(e=>"Alpha"===e.tier).length,Beta:t.filter(e=>"Beta"===e.tier).length,Gamma:t.filter(e=>"Gamma"===e.tier).length,Delta:t.filter(e=>"Delta"===e.tier).length},picks:t,metadata:{archive_version:"1.0",archiver:"local_fallback",timestamp:new Date().toISOString(),total_weight:t.reduce((e,t)=>e+t.target_weight,0)}}}async function p(e){try{let t=u().join(process.cwd(),"..","archives","snapshots",e);if(!l().existsSync(t))return console.log(`No archive found for ${e}, generating mock data`),d(e);let r=l().readdirSync(t).filter(e=>l().statSync(u().join(t,e)).isDirectory());if(0===r.length)return d(e);let a=r.sort().pop(),i=u().join(t,a),n=l().readdirSync(i).filter(e=>l().statSync(u().join(i,e)).isDirectory());if(0===n.length)return d(e);let s=n.sort().pop(),o=u().join(i,s),c=l().readdirSync(o).filter(e=>l().statSync(u().join(o,e)).isDirectory());if(0===c.length)return d(e);let p=c.sort().pop(),g=u().join(o,p),f=l().readdirSync(g).filter(e=>e.endsWith(".json"));if(0===f.length)return d(e);let m=f.sort().pop(),h=u().join(g,m),y=l().readFileSync(h,"utf-8"),_=JSON.parse(y),A={title:`${e.replace("-"," ").toUpperCase()} Execution Result`,capsule_slug:e,generated_at:_.metadata?.timestamp||new Date().toISOString(),execution_id:_.data?.execution_id||`${e}_archived`,status:"success",banner:`ðŸ“Š Archived execution data for ${e} capsule. This represents a historical snapshot of system execution and performance metrics.`,tier_counts:{Alpha:0,Beta:0,Gamma:0,Delta:0},picks:[],metadata:_.metadata||{},raw_data:_.data};if("signals-daily"===e&&_.data?.market_data){let e=(_.data.recommendations||[]).map((e,t)=>({symbol:`SIGNAL_${t+1}`,tier:["Alpha","Beta","Gamma"][t%3],target_weight:.1*Math.random()+.05,rationale:e,risk_factors:["Market volatility","Execution risk"]}));A.picks=e,A.tier_counts={Alpha:e.filter(e=>"Alpha"===e.tier).length,Beta:e.filter(e=>"Beta"===e.tier).length,Gamma:e.filter(e=>"Gamma"===e.tier).length,Delta:e.filter(e=>"Delta"===e.tier).length}}return A}catch(t){return console.error("Error loading artifact from archive:",t),d(e)}}async function g(e,t){if("GET"!==e.method)return t.status(405).json({error:"Method not allowed"});let{slug:r}=e.query;if(!r||"string"!=typeof r)return t.status(400).json({error:"Invalid capsule slug"});try{let e=await p(r);t.status(200).json(e)}catch(e){console.error("API error:",e),t.status(500).json({error:"Failed to load artifact",message:e instanceof Error?e.message:"Unknown error"})}}let f=(0,s.l)(a,"default"),m=(0,s.l)(a,"config"),h=new i.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/artifacts/[slug]/latest",pathname:"/api/artifacts/[slug]/latest",bundlePath:"",filename:""},userland:a})},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=4105);module.exports=r})();